---
- name: Add basic packages package
  ansible.builtin.package:
    name:
      - nmtui
      - kitty
      - zsh
      - vagrant
      - qemu-kvm
      - virt-install
      - gcc
      - libvirt
      - libvirt-devel
      - libxml2-devel
      - make
      - ruby-devel
    state: present

- name: Install vagrant-libvirt pluguin
  ansible.builtin.command: vagrant plugin install vagrant-libvirt

- name: Install vagrant-mutate pluguin
  ansible.builtin.command: vagrant plugin install vagrant-mutate

- name: Add kitty tokio night theme
  ansible.builtin.template:
    src: templates/kitty.conf.j2
    dest: ~/.config/kitty/kitty.conf

- name: Download ohmyzsh instaler
  ansible.builtin.get_url:
    url: https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh
    dest: /tmp/zsh-installer.sh

- name: Execute ohmyzsh zsh-installer
  ansible.builtin.shell: /tmp/zsh-installer.sh

- name: Configure ohmyzsh
  ansible.builtin.template:
    src: templates/ohmyzsh.j2
    dest: ~/.zshrc

- name: Configure bashrc
  ansible.builtin.template:
    src: templates/bashrc.j2
    dest: ~/.bashrc
